<template>

  <div class="page" data-name="detail">
    <div class="navbar">
      <div class="navbar-inner sliding">
        <div class="title">상세보기</div>
      </div>
    </div>
    <div class="page-content">

      <h1>today's step point</h1>
      <div id="step"></div>
      <h1>today's hrm point</h1>
      <div id="hrm"></div>
      <h1>today's food point</h1>
      <div id="food"></div>
      <h1>today's age point</h1>
      <div id="age"></div>
    </div>
  </div>
</template>
<script>
  import $$ from 'dom7';
  import Service from '../js/service';

  export default {
    methods: {},
    on: {
      pageInit: function () {

        $$('#view-detail').on('tab:show', function () {
          console.log('reinit detail')
          Service.getBandData(function (data) {
            console.log(data);
            data = JSON.parse(data);
            $$('#step').html(`${data.step.value}걸음 - ${data.step.point}point`);
            $$('#hrm').html(`${data.hrm.value}%강도 - ${data.hrm.point}point`);
            $$('#food').html(`${data.food.foods}섭취 - ${data.food.point}point`);
            $$('#age').html(`${data.age.value}세 - ${data.age.point}point`);
          });
        });
        Service.getBandData(function (data) {
          console.log(data);
          data = JSON.parse(data);
          $$('#step').html(`${data.step.value}걸음 - ${data.step.point}point`);
          $$('#hrm').html(`${data.hrm.value}%강도 - ${data.hrm.point}point`);
          $$('#food').html(`${data.food.foods}섭취 - ${data.food.point}point`);
          $$('#age').html(`${data.age.value}세 - ${data.age.point}point`);
        });
      },
    },
  };
</script>